#:import Toolbar kivymd.toolbar.Toolbar
#:import ThemeManager kivymd.theming.ThemeManager
#:import MDNavigationDrawer kivymd.navigationdrawer.MDNavigationDrawer
#:import NavigationLayout kivymd.navigationdrawer.NavigationLayout
#:import NavigationDrawerDivider kivymd.navigationdrawer.NavigationDrawerDivider
#:import NavigationDrawerToolbar kivymd.navigationdrawer.NavigationDrawerToolbar
#:import NavigationDrawerSubheader kivymd.navigationdrawer.NavigationDrawerSubheader
#:import MDCheckbox kivymd.selectioncontrols.MDCheckbox
#:import MDSwitch kivymd.selectioncontrols.MDSwitch
#:import MDList kivymd.list.MDList
#:import OneLineListItem kivymd.list.OneLineListItem
#:import TwoLineListItem kivymd.list.TwoLineListItem
#:import ThreeLineListItem kivymd.list.ThreeLineListItem
#:import OneLineAvatarListItem kivymd.list.OneLineAvatarListItem
#:import OneLineIconListItem kivymd.list.OneLineIconListItem
#:import OneLineAvatarIconListItem kivymd.list.OneLineAvatarIconListItem
#:import MDTextField kivymd.textfields.MDTextField
#:import MDSpinner kivymd.spinner.MDSpinner
#:import MDCard kivymd.card.MDCard
#:import MDSeparator kivymd.card.MDSeparator
#:import MDDropdownMenu kivymd.menu.MDDropdownMenu
#:import get_color_from_hex kivy.utils.get_color_from_hex
#:import colors kivymd.color_definitions.colors
#:import SmartTile kivymd.grid.SmartTile
#:import MDSlider kivymd.slider.MDSlider
#:import MDTabbedPanel kivymd.tabs.MDTabbedPanel
#:import MDTab kivymd.tabs.MDTab
#:import MDProgressBar kivymd.progressbar.MDProgressBar
#:import MDAccordion kivymd.accordion.MDAccordion
#:import MDAccordionItem kivymd.accordion.MDAccordionItem
#:import MDAccordionSubItem kivymd.accordion.MDAccordionSubItem
#:import MDThemePicker kivymd.theme_picker.MDThemePicker
#:import MDBottomNavigation kivymd.tabs.MDBottomNavigation
#:import MDBottomNavigationItem kivymd.tabs.MDBottomNavigationItem
#:import FadeTransition kivy.uix.screenmanager.FadeTransition
#:import AnchorLayout kivy.uix.anchorlayout
#:import StackLayout kivy.uix.stacklayout
#:import GridLayout kivy.uix.gridlayout

NavigationLayout:
    id: nav_layout
    MDNavigationDrawer:
        id: nav_drawer
        NavigationDrawerSubheader:
            text: "User Menu"
        NavigationDrawerIconButton:
            id: ToolMenu_1
            icon: 'view-dashboard'
            text: "Dashboard"
            on_release: app.root.ids.scr_mngr.current = 'MainWindow_Dashboard'
        NavigationDrawerIconButton:
            id: ToolMenu_2
            icon: 'database-plus'
            text: "Data File | Import and Export"
            on_release: app.root.ids.scr_mngr.current = 'MainWindow_DataPlacement'
        NavigationDrawerIconButton:
            id: ToolMenu_2
            icon: 'view-list'
            text: "Data Management"
            on_release: app.root.ids.scr_mngr.current = 'MainWindow_SimplifiedView'
        NavigationDrawerSubheader:
            text: "Account"
        NavigationDrawerIconButton:
            id: ToolMenu_4
            icon: 'face-profile'
            text: "Edit Profile"
            on_release: app.root.ids.scr_mngr.current = 'Startup_FirstTime'
        NavigationDrawerIconButton:
            id: ToolMenu_5
            icon: 'nature-people'
            text: "Change User"
            on_release: app.root.ids.scr_mngr.current = 'Startup_FirstTime'
        NavigationDrawerIconButton:
            id: ToolMenu_
            icon: 'exit-to-app'
            text: "Exit Application"
            on_release: app.get_running_app().stop()
    BoxLayout:
        orientation: 'vertical'
        Toolbar:
            id: ToolbarMain
            title: app.title
            md_bg_color: get_color_from_hex(colors[app.theme_cls.primary_palette][app.theme_cls.primary_hue])
            background_palette: app.theme_cls.primary_palette
            background_hue: app.theme_cls.primary_hue
            left_action_items: [['menu', lambda x: app.root.toggle_nav_drawer()]]
            #right_action_items: [['dots-vertical', lambda x: app.root.toggle_nav_drawer()]]
        ScreenManager:
            id: scr_mngr
            transition: FadeTransition(clearcolor=[255, 255, 255, 0])
            Screen:
                name: 'Startup_FirstTime_GetInfo'
                MDCard:
                    size_hint: None, None
                    size: dp(560), dp(450)
                    pos_hint: {'center_x': 0.5, 'center_y': 0.5}
                    BoxLayout:
                        orientation: 'vertical'
                        padding: dp(22)
                        BoxLayout:
                            orientation: 'vertical'
                            #padding_vertical: dp(10)
                            AnchorLayout:
                                anchor_x: 'left'
                                anchor_y: 'top'
                                StackLayout:
                                    spacing:20
                                    MDLabel:
                                        text: 'Hello and Welcome!'
                                        theme_text_color: 'Primary'
                                        font_style: "Headline"
                                        size_hint_y: None
                                        height: dp(15)
                                    MDLabel:
                                        text: 'Please set the following... This wont take a while...'
                                        theme_text_color: 'Secondary'
                                        font_style: "Body1"
                                        size_hint_y: None
                                        height: dp(0)
                        BoxLayout:
                            orientation: 'vertical'
                            spacing: 10
                            MDTextField:
                                hint_text: "Input Your First Name"
                                required: True
                                helper_text: "First Name Needed for Author Assignment"
                                helper_text_mode: "on_error"
                                write_tab: False
                            MDTextField:
                                hint_text: "Input Your Last Name"
                                required: True
                                helper_text: "Last Name Needed for Author Assignment"
                                helper_text_mode: "on_error"
                                write_tab: False
                            MDTextField:
                                hint_text: "Input Your Job Position"
                                required: True
                                helper_text: "Job Position Needed for Author Assignment"
                                helper_text_mode: "on_error"
                                write_tab: False
                            MDLabel:
                                text: 'Want to use the program with debugging features? Click Admin PrevCheck for more info.'
                                theme_text_color: 'Secondary'
                                font_style: "Caption"
                                size_hint_y: None
                                height: dp(8)
                        BoxLayout:
                            orientation: 'horizontal'
                            #spacing: 10
                            AnchorLayout:
                                anchor_x: 'left'
                                anchor_y: 'bottom'
                                MDFlatButton:
                                    theme_text_color: 'Custom'
                                    text_color: app.theme_cls.primary_palette
                                    text: "Admin PrevCheck"
                                    size_hint: None, None
                                    size: 3 * dp(48), dp(48)
                            AnchorLayout:
                                anchor_x: 'right'
                                anchor_y: 'bottom'
                                MDRaisedButton:
                                    text: "Submit"
                                    size_hint: None, None
                                    size: 3 * dp(48), dp(48)
            Screen:
                name: 'MainWindow_Dashboard'
            Screen:
                name: 'MainWindow_DataPlacement'
                MDBottomNavigation:
                    id: MainFrameWindow_Divider
                    MDBottomNavigationItem:
                        name: 'MainFrameWindow_1'
                        text: "Warning"
                        icon: "alert-octagon"
                        MDLabel:
                            font_style: 'Body1'
                            theme_text_color: 'Primary'
                            text: "Data List"
                            halign: 'center'
                    MDBottomNavigationItem:
                        name: 'MainFrameWindow_2'
                        text: "Status Report"
                        icon: 'book-open'
                        BoxLayout:
                            orientation: 'vertical'
                            size_hint_y: None
                            padding: dp(48)
                            spacing: 10
                            #1 Summation of Units, Show Proposed  and OnHand and OnStorage
                            #2 Most Used Item Recorded
                            #3 Due Dates
                            #4 Recently Added 
                            GridLayout:
                                col: 3
                                MDCard:
                                    size_hint: None, None
                                    size: dp(320), dp(200)
                                    BoxLayout:
                                        orientation:'vertical'
                                        padding: dp(10)
                                        MDLabel:
                                            text: 'Title'
                                            theme_text_color: 'Secondary'
                                            font_style: "Title"
                                            size_hint_y: None
                                            BoxLayout:
                                                padding_top: dp(5)
                                        MDTextField:
                                            hint_text: "No helper text"
                                            write_tab: False
                                        MDTextField:
                                            hint_text: "Helper text on focus"
                                            helper_text: "This will disappear when you click off"
                                            helper_text_mode: "on_focus"
                                            write_tab: False
                                        MDTextField:
                                            hint_text: "Persistent helper text"
                                            helper_text: "Text is always here"
                                            helper_text_mode: "persistent"
                                            write_tab: False
                                MDCard:
                                    size_hint: None, None
                                    size: dp(320), dp(200)
                                    BoxLayout:
                                        orientation:'vertical'
                                        padding: dp(10)
                                        MDLabel:
                                            text: 'Title'
                                            theme_text_color: 'Secondary'
                                            font_style: "Title"
                                            size_hint_y: None
                                            BoxLayout:
                                                padding_top: dp(5)
                                        MDTextField:
                                            hint_text: "No helper text"
                                            write_tab: False
                                        MDTextField:
                                            hint_text: "Helper text on focus"
                                            helper_text: "This will disappear when you click off"
                                            helper_text_mode: "on_focus"
                                            write_tab: False
                                        MDTextField:
                                            hint_text: "Persistent helper text"
                                            helper_text: "Text is always here"
                                            helper_text_mode: "persistent"
                                            write_tab: False        
                                MDCard:
                                    size_hint: None, None
                                    size: dp(320), dp(200)
                                    BoxLayout:
                                        orientation:'vertical'
                                        padding: dp(10)
                                        MDLabel:
                                            text: 'Title'
                                            theme_text_color: 'Secondary'
                                            font_style: "Title"
                                            size_hint_y: None
                                            BoxLayout:
                                                padding_top: dp(5)
                                        MDTextField:
                                            hint_text: "No helper text"
                                            write_tab: False
                                        MDTextField:
                                            hint_text: "Helper text on focus"
                                            helper_text: "This will disappear when you click off"
                                            helper_text_mode: "on_focus"
                                            write_tab: False
                                        MDTextField:
                                            hint_text: "Persistent helper text"
                                            helper_text: "Text is always here"
                                            helper_text_mode: "persistent"
                                            write_tab: False        
            Screen:
                name: 'MainWindow_SimplifiedView'